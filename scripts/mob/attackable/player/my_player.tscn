[gd_scene load_steps=19 format=3 uid="uid://bm7q7lxahnhl4"]

[ext_resource type="Script" path="res://scripts/mob/attackable/player/player.gd" id="1_fl81d"]
[ext_resource type="PackedScene" uid="uid://cykr5gmvdm7xf" path="res://assets/characters/player/female_player.glb" id="2_s3eb4"]
[ext_resource type="Script" path="res://scripts/camera/tps_camera.gd" id="3_0ip71"]
[ext_resource type="PackedScene" uid="uid://c03x7cx3t0083" path="res://scripts/mob/attackable/player/minimap_markers/map_marker.tscn" id="3_aj2dj"]
[ext_resource type="Texture2D" uid="uid://mfj02y3po58g" path="res://scripts/items/textures/items_atlas.png" id="4_qds30"]
[ext_resource type="PackedScene" uid="uid://dud8gf6n8gvk" path="res://scripts/inventory/ui/player_inventory.tscn" id="4_tvn1c"]
[ext_resource type="Script" path="res://scripts/mob/attackable/player/player_hud.gd" id="5_gmuxt"]
[ext_resource type="PackedScene" uid="uid://gm47ucg1gegr" path="res://scripts/mob/attackable/player/player_minimap.tscn" id="5_vfast"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_o0wyg"]
radius = 0.25
height = 1.65

[sub_resource type="AnimationNodeTransition" id="AnimationNodeTransition_p864k"]
input_0/name = "false"
input_0/auto_advance = false
input_0/reset = true
input_1/name = "true"
input_1/auto_advance = false
input_1/reset = true

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_i7ap6"]
animation = &"Dying"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_f53eh"]
animation = &"IdleSway"

[sub_resource type="AnimationNodeTransition" id="AnimationNodeTransition_c5dlp"]
input_0/name = "false"
input_0/auto_advance = false
input_0/reset = true
input_1/name = "true"
input_1/auto_advance = false
input_1/reset = true

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_m5drn"]
animation = &"RunningJump"

[sub_resource type="AnimationNodeTransition" id="AnimationNodeTransition_jttma"]
input_0/name = "idle"
input_0/auto_advance = false
input_0/reset = true
input_1/name = "run"
input_1/auto_advance = false
input_1/reset = true

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_e14lc"]
animation = &"Running"

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_ss5bq"]
nodes/died/node = SubResource("AnimationNodeTransition_p864k")
nodes/died/position = Vector2(1300, 900)
nodes/dying/node = SubResource("AnimationNodeAnimation_i7ap6")
nodes/dying/position = Vector2(620, 780)
nodes/idle_sway/node = SubResource("AnimationNodeAnimation_f53eh")
nodes/idle_sway/position = Vector2(620, 980)
nodes/in_air/node = SubResource("AnimationNodeTransition_c5dlp")
nodes/in_air/position = Vector2(1080, 920)
nodes/jump/node = SubResource("AnimationNodeAnimation_m5drn")
nodes/jump/position = Vector2(620, 1380)
nodes/movements/node = SubResource("AnimationNodeTransition_jttma")
nodes/movements/position = Vector2(860, 960)
nodes/output/position = Vector2(1520, 900)
nodes/running/node = SubResource("AnimationNodeAnimation_e14lc")
nodes/running/position = Vector2(620, 1180)
node_connections = [&"output", 0, &"died", &"died", 0, &"in_air", &"died", 1, &"dying", &"in_air", 0, &"movements", &"in_air", 1, &"jump", &"movements", 0, &"idle_sway", &"movements", 1, &"running"]

[sub_resource type="AtlasTexture" id="AtlasTexture_4oa3t"]
atlas = ExtResource("4_qds30")
region = Rect2(128, 512, 128, 128)

[node name="MyPlayer" type="CharacterBody3D"]
collision_layer = 6
collision_mask = 273
script = ExtResource("1_fl81d")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.825, 0)
shape = SubResource("CapsuleShape3D_o0wyg")

[node name="Visuals" type="Node3D" parent="."]
metadata/_edit_lock_ = true

[node name="female_player" parent="Visuals" instance=ExtResource("2_s3eb4")]
transform = Transform3D(-1.01, 0, -8.8297e-08, 0, 1.01, 0, 8.8297e-08, 0, -1.01, 0, 0, 0)

[node name="Skeleton3D" parent="Visuals/female_player/Armature" index="0"]
bones/0/position = Vector3(-225.624, 280.94, -0.192985)
bones/0/rotation = Quaternion(-0.996436, 0.0209602, -0.0562414, -0.0592659)
bones/1/position = Vector3(0.00323857, 91.7296, 2069.22)
bones/1/rotation = Quaternion(0.884442, -4.46599e-06, -1.74447e-05, 0.46665)
bones/2/position = Vector3(5.84183e-07, -0.000370634, 0.00031592)
bones/3/position = Vector3(208.928, -8.62689, 47.3545)
bones/3/rotation = Quaternion(0.119703, 0.475204, 0.869697, -0.0589891)
bones/4/position = Vector3(0.0315892, 870.145, -0.0192654)
bones/4/rotation = Quaternion(-0.296019, -0.0451532, 0.0149737, 0.953997)
bones/5/position = Vector3(-0.0192348, 810.195, -0.117039)
bones/5/rotation = Quaternion(0.43713, -0.0642149, -0.0363426, 0.896367)
bones/6/position = Vector3(-0.000632064, 281.328, -0.132721)
bones/7/position = Vector3(-0.0108936, 281.328, -0.129838)
bones/7/rotation = Quaternion(0.16757, 0.0255455, -0.019237, 0.985341)
bones/9/position = Vector3(-26.9231, 24.6907, -2.02412)
bones/10/position = Vector3(-0.000587416, 42.2426, 0.000780918)
bones/11/position = Vector3(30.3289, 44.2478, 5.52664)
bones/12/position = Vector3(70.2692, 39.5844, 0.338762)
bones/13/position = Vector3(-3.0104e-05, -2.76565e-05, 1.15931e-05)
bones/14/position = Vector3(-0.010356, 405.098, -0.0595173)
bones/15/position = Vector3(3.7613e-05, 0.000139998, 3.85164e-05)
bones/16/position = Vector3(9.10595e-05, -3.86379e-05, -5.47342e-06)
bones/17/position = Vector3(-0.0391841, 435.1, -0.0044818)
bones/18/position = Vector3(-208.924, -8.627, 47.3694)
bones/18/rotation = Quaternion(-0.0121551, 0.36852, 0.922931, -0.110655)
bones/19/position = Vector3(7.77747e-06, 0.000563144, -1.1896e-05)
bones/20/position = Vector3(-0.00882417, 435.04, 0.0010947)
bones/21/position = Vector3(-0.0320692, 870.143, -0.0302597)
bones/21/rotation = Quaternion(-0.152936, 0.0719689, -0.0235572, 0.98533)
bones/22/position = Vector3(0.0185996, 810.195, -0.127169)
bones/22/rotation = Quaternion(0.412523, 0.0511542, -0.0163933, 0.909362)
bones/23/position = Vector3(0.00107194, 281.328, 0.000478932)
bones/23/rotation = Quaternion(0.181843, -0.0251529, 0.0199618, 0.982803)
bones/25/position = Vector3(-69.8863, 39.3685, 0.336379)
bones/27/position = Vector3(8.01032e-05, 42.0115, -0.00108451)
bones/29/position = Vector3(-0.00238509, 281.328, 0.00365512)
bones/30/position = Vector3(-0.000179523, -0.000242037, 3.74019e-05)
bones/31/position = Vector3(-6.00842e-05, -4.8645e-05, -1.68593e-05)
bones/32/position = Vector3(0.000343952, 405.098, -0.00186404)
bones/33/position = Vector3(-0.000372995, 222.432, 43.3805)
bones/33/rotation = Quaternion(-0.247702, 0.0243325, 0.0879512, 0.964529)
bones/34/position = Vector3(-0.000379957, 79.7755, -0.00147837)
bones/34/rotation = Quaternion(0.00225255, -0.0079927, -0.00760956, 0.999937)
bones/35/position = Vector3(-1.15384e-05, 198.988, 0.00934604)
bones/35/rotation = Quaternion(-0.227069, -0.00522298, -0.00935445, 0.97382)
bones/36/position = Vector3(-8.13653e-05, 466.005, -0.0426121)
bones/36/rotation = Quaternion(0.316069, -0.000318436, -0.00215499, 0.948734)
bones/37/position = Vector3(2.02353e-06, 98.8011, -0.0012503)
bones/37/rotation = Quaternion(0.0106955, -0.000806479, -0.00218417, 0.99994)
bones/38/position = Vector3(-8.87827e-05, 98.8027, -0.00311285)
bones/38/rotation = Quaternion(-0.106792, -0.000492943, -0.00226036, 0.994279)
bones/39/position = Vector3(-1.66352e-06, -0.000441118, -0.000112417)
bones/40/position = Vector3(21.273, 37.8334, 0.000583663)
bones/40/rotation = Quaternion(-0.0018793, -0.00122118, 0.714027, 0.700115)
bones/41/position = Vector3(49.598, 15.3732, 0.00288212)
bones/41/rotation = Quaternion(-0.00229005, 0.000367327, 0.0641501, 0.997938)
bones/42/position = Vector3(17.4548, -0.00101234, 1.70274e-06)
bones/42/rotation = Quaternion(-0.00199827, 0.000835549, 0.0872941, 0.99618)
bones/43/position = Vector3(24.406, 0.00133549, 1.73124e-06)
bones/44/position = Vector3(50.0402, 14.6185, 0.0107174)
bones/45/rotation = Quaternion(0.707107, -8.46917e-06, 0.707107, -1.44185e-09)
bones/46/rotation = Quaternion(0.707107, 1.40381e-06, 0.707107, -1.47272e-10)
bones/47/position = Vector3(42.8979, 101.224, 0.00135646)
bones/48/position = Vector3(0.52384, 0.434245, 0.00321808)
bones/49/position = Vector3(104.463, 381.016, -43.9903)
bones/49/rotation = Quaternion(0.190937, 0.13236, -0.795827, 0.559181)
bones/50/position = Vector3(0.00267325, 191.161, 0.00348898)
bones/50/rotation = Quaternion(-0.0406247, 0.00935203, -0.498277, 0.866015)
bones/51/position = Vector3(-0.00204019, 437.673, 0.00145775)
bones/51/rotation = Quaternion(0.16376, 0.0185725, 0.00594621, 0.986308)
bones/52/position = Vector3(0.00022445, -0.000266777, 2.11505e-05)
bones/52/rotation = Quaternion(-6.91305e-07, -0.0276208, 1.34919e-07, 0.999618)
bones/53/position = Vector3(-0.00170205, 173.248, 0.00500813)
bones/54/position = Vector3(0.000749878, -0.000185903, -0.000156256)
bones/54/rotation = Quaternion(-0.258653, -0.0405279, -0.00598645, 0.965101)
bones/55/position = Vector3(-0.000247688, 346.493, 7.66177e-06)
bones/55/rotation = Quaternion(0.00140722, 0.105964, -0.0221509, 0.994122)
bones/56/position = Vector3(1.37403, 271.34, 32.3386)
bones/56/rotation = Quaternion(0.0557238, -0.00966435, -0.118224, 0.991375)
bones/57/position = Vector3(0.000477987, 38.9983, 3.70773e-05)
bones/57/rotation = Quaternion(-0.0363173, -0.0233617, -0.205006, 0.977808)
bones/58/position = Vector3(0.000333371, 37.1443, 0.000201659)
bones/58/rotation = Quaternion(-0.027346, -0.00044102, -0.0181617, 0.999461)
bones/59/position = Vector3(0.875447, 237.906, 80.1908)
bones/59/rotation = Quaternion(0.0504975, -0.00649512, -0.16716, 0.984614)
bones/60/position = Vector3(0.000141564, 50.2242, 2.45472e-05)
bones/60/rotation = Quaternion(-0.032168, -0.0103782, -0.19978, 0.979258)
bones/61/position = Vector3(0.000574263, 38.9934, -4.49112e-05)
bones/62/position = Vector3(0.00109769, 240.203, 6.10026e-06)
bones/62/rotation = Quaternion(0.0387541, 0.00956555, -0.177247, 0.983357)
bones/63/position = Vector3(0.000281941, 69.4747, 4.00099e-05)
bones/63/rotation = Quaternion(-0.0199788, 0.0178615, -0.189378, 0.981538)
bones/64/position = Vector3(0.000826482, 36.464, 3.60531e-05)
bones/65/position = Vector3(0.875342, 237.542, -42.0904)
bones/65/rotation = Quaternion(0.0108832, 0.0151528, -0.176673, 0.984093)
bones/66/position = Vector3(-0.000103234, 48.6302, 1.8172e-05)
bones/66/rotation = Quaternion(0.0162868, 0.0457444, -0.224362, 0.973295)
bones/67/position = Vector3(-6.88488e-05, 32.4131, -1.01211e-05)
bones/68/position = Vector3(27.3853, 117.376, 35.7243)
bones/68/rotation = Quaternion(0.120113, -0.313853, -0.169802, 0.926411)
bones/69/position = Vector3(-0.000895251, 48.3601, -1.92408e-05)
bones/69/rotation = Quaternion(-0.0864422, 0.0042798, 0.0657617, 0.994075)
bones/70/position = Vector3(0.000341446, 49.4403, -0.000530178)
bones/71/position = Vector3(-1.64884e-05, -0.00016558, 6.1003e-05)
bones/72/position = Vector3(-0.00057496, 218.836, -0.00169417)
bones/73/rotation = Quaternion(0.184443, -0.137161, 0.803476, 0.549176)
bones/74/position = Vector3(-0.00237759, 191.161, 0.00331373)
bones/74/rotation = Quaternion(-0.00406419, -0.0890013, 0.466865, 0.879829)
bones/75/position = Vector3(-0.00130545, -4.20806e-05, 0.000101341)
bones/76/position = Vector3(0.000252933, 218.836, -0.00027866)
bones/76/rotation = Quaternion(-1.48823e-06, -0.0496679, -4.79408e-07, 0.998766)
bones/77/position = Vector3(0.00284748, 437.673, -0.00234886)
bones/77/rotation = Quaternion(0.219986, -0.0153213, -0.00799042, 0.97535)
bones/78/position = Vector3(-0.000295853, -0.000255585, 9.68422e-05)
bones/78/rotation = Quaternion(-5.03106e-07, 0.0276271, 7.99962e-07, 0.999618)
bones/79/position = Vector3(0.00139181, 173.247, 0.00272868)
bones/80/position = Vector3(-0.000416248, -0.000333235, -6.82892e-05)
bones/80/rotation = Quaternion(-0.258648, 0.0405264, 0.0059852, 0.965103)
bones/81/position = Vector3(-0.000517711, 346.493, 6.25334e-05)
bones/81/rotation = Quaternion(-0.0366847, -0.103046, 0.00279003, 0.993996)
bones/82/position = Vector3(-1.37427, 271.341, 32.3386)
bones/82/rotation = Quaternion(0.0536603, 0.00848394, 0.163635, 0.985024)
bones/83/position = Vector3(2.76234e-05, 38.9987, 9.76522e-06)
bones/83/rotation = Quaternion(-0.0325494, 0.0234787, 0.182521, 0.982383)
bones/84/position = Vector3(-0.000295858, 37.1439, -0.000218622)
bones/84/rotation = Quaternion(-0.0273471, 0.000433603, 0.0181553, 0.999461)
bones/85/position = Vector3(-0.000235547, 240.203, 2.1354e-05)
bones/85/rotation = Quaternion(0.0401443, -0.0100124, 0.227398, 0.972923)
bones/86/position = Vector3(-0.000594695, 69.4753, 8.49754e-05)
bones/86/rotation = Quaternion(-0.0149974, -0.0180114, 0.140616, 0.989787)
bones/87/position = Vector3(0.000687931, 36.4639, 2.94019e-05)
bones/87/rotation = Quaternion(-0.0253218, -0.0141336, 0.0972623, 0.994836)
bones/88/position = Vector3(-27.3844, 117.376, 35.7241)
bones/88/rotation = Quaternion(0.169413, 0.306198, 0.183156, 0.918693)
bones/89/position = Vector3(-2.1885e-05, 48.3597, 0.000311081)
bones/89/rotation = Quaternion(-0.152153, 0.02978, -0.16545, 0.973955)
bones/90/position = Vector3(-0.000589759, 49.4403, -0.000485171)
bones/91/position = Vector3(-0.875273, 237.907, 80.1909)
bones/91/rotation = Quaternion(0.0211984, -0.00199899, 0.223727, 0.974419)
bones/92/position = Vector3(0.000607324, 50.2242, 9.44443e-06)
bones/92/rotation = Quaternion(-0.0189577, 0.0105224, 0.116856, 0.992912)
bones/93/position = Vector3(-0.000642952, 38.9937, -2.29975e-05)
bones/94/position = Vector3(-0.875067, 237.542, -42.0904)
bones/94/rotation = Quaternion(0.0402171, -0.0102107, 0.183036, 0.98223)
bones/95/position = Vector3(9.24938e-05, 48.6305, 4.93825e-05)
bones/95/rotation = Quaternion(-0.0147729, -0.0382075, 0.175775, 0.983578)
bones/96/position = Vector3(-0.00112038, 32.414, 0.000233037)
bones/97/position = Vector3(-162.708, 109.845, 146.821)
bones/98/position = Vector3(0.000174446, 34.1834, -0.000231603)
bones/100/position = Vector3(0.000234642, 34.1829, -0.0011157)

[node name="AnimationTree" type="AnimationTree" parent="Visuals"]
unique_name_in_owner = true
tree_root = SubResource("AnimationNodeBlendTree_ss5bq")
anim_player = NodePath("../female_player/AnimationPlayer")
active = true
parameters/died/current_state = "false"
parameters/died/transition_request = ""
parameters/died/current_index = 0
parameters/in_air/current_state = "false"
parameters/in_air/transition_request = ""
parameters/in_air/current_index = 0
parameters/movements/current_state = "idle"
parameters/movements/transition_request = ""
parameters/movements/current_index = 0

[node name="MapMarker" parent="Visuals" instance=ExtResource("3_aj2dj")]
transform = Transform3D(-1.6383, 0, 1.14715, 0, 2, 0, -1.14715, 0, -1.6383, 0, 0, 0)
sorting_offset = 1.0
texture = SubResource("AtlasTexture_4oa3t")

[node name="CameraPoints" type="Node3D" parent="."]

[node name="LookPoint" type="Node3D" parent="CameraPoints"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.5, 0)

[node name="FollowPoint" type="Node3D" parent="CameraPoints"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.2149, 0)

[node name="CameraPivot" type="Node3D" parent="." node_paths=PackedStringArray("look_point", "follow_point")]
top_level = true
script = ExtResource("3_0ip71")
look_point = NodePath("../CameraPoints/LookPoint")
follow_point = NodePath("../CameraPoints/FollowPoint")

[node name="Camera" type="Camera3D" parent="CameraPivot"]
transform = Transform3D(1, 0, 0, 0, 0.965926, 0.258819, 0, -0.258819, 0.965926, 0, 2, 2)
cull_mask = 1047551
fov = 70.0

[node name="UI" type="Node" parent="."]

[node name="PlayerInventory" parent="UI" instance=ExtResource("4_tvn1c")]
visible = false

[node name="HUD" type="MarginContainer" parent="UI"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
theme_override_constants/margin_left = 0
theme_override_constants/margin_top = 20
theme_override_constants/margin_right = 40
theme_override_constants/margin_bottom = 0
script = ExtResource("5_gmuxt")

[node name="PlayerMinimap" parent="UI/HUD" instance=ExtResource("5_vfast")]
layout_mode = 2

[editable path="Visuals/female_player"]
